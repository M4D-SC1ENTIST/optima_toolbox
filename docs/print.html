<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Optima Toolbox</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="1-getting_started/getting_started_0.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1-getting_started/getting_started_optima_toolbox_installation.html"><strong aria-hidden="true">1.1.</strong> Optima Installation</a></li><li class="chapter-item expanded "><a href="1-getting_started/getting_started_rust_installation.html"><strong aria-hidden="true">1.2.</strong> Rust Installation</a></li><li class="chapter-item expanded "><a href="1-getting_started/getting_started_robot_test.html"><strong aria-hidden="true">1.3.</strong> Robot Test</a></li><li class="chapter-item expanded "><a href="1-getting_started/getting_started_adding_a_robot.html"><strong aria-hidden="true">1.4.</strong> Adding a Robot</a></li></ol></li><li class="chapter-item expanded "><a href="2-optima_rust_tutorials/optima_rust_tutorials_0.html"><strong aria-hidden="true">2.</strong> Optima Rust Tutorials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2-optima_rust_tutorials/optima_rust_tutorials_robots.html"><strong aria-hidden="true">2.1.</strong> Loading a Robot Model</a></li><li class="chapter-item expanded "><a href="2-optima_rust_tutorials/optima_rust_tutorials_robot_configurations.html"><strong aria-hidden="true">2.2.</strong> Robot Configurations</a></li><li class="chapter-item expanded "><a href="2-optima_rust_tutorials/optima_rust_tutorials_robot_sets.html"><strong aria-hidden="true">2.3.</strong> Robot Sets</a></li><li class="chapter-item expanded "><a href="2-optima_rust_tutorials/optima_rust_tutorials_robot_set_configurations.html"><strong aria-hidden="true">2.4.</strong> Robot Set Configurations</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Optima Toolbox</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Optima is an easy to set up and easy to use robotics toolbox.  Its primary use-case is robot motion generation (e.g., trajectory optimization, motion planning, optimization-based inverse kinematics, etc), though its underlying structures are general and can apply to many planning and optimization problem domains.  The core library is written in Rust, though high quality support for other targets such as Python and Webassembly are afforded via Rust's flexible compiler.</p>
<p>Optima features an extensive suite of efficient and flexible robotics subroutines, including forward kinematics, jacobian computations, etc.  Optima also features implementations of state-of-the-art robotics algorithms related to planning, optimization, and proximity computations, such as RelaxedIK, CollisionIK, and Proxima (with more algorithms on the way).  These robotics features are designed to be easy to set up and access.  Models of many popular robots such as UR5, Franka Emika Panda, Kinova Gen3, etc., are included out-of-the-box and can be instantiated with a single line of code.  If your robot model is not included in our provided assets, a robot can be added to the library in just minutes.</p>
<h2 id="high-level-features"><a class="header" href="#high-level-features">High-level Features</a></h2>
<ul>
<li>
<p>The underlying non-linear optimization engine has several backend options, such as the <a href="https://alphaville.github.io/optimization-engine/docs/open-intro">Open Engine</a> and <a href="https://nlopt.readthedocs.io/en/latest/">NLopt</a>.  All algorithms support a non-linear objective function, non-linear equality constraints, and non-linear inequality constraints.  Most provided algorithms are local solvers, though several global optimization algorithms are provided via NLopt as well.  These optimization algorithm options can be swapped in and out by changing a single parameter, making testing and benchmarking over optimization algorithms easy to conduct.</p>
</li>
<li>
<p>The library presents a powerful Rust trait called <code>OptimaTensorFunction</code>; any function that implements this trait can automatically compute derivatives (up to the fourth derivative) using a derivative composition graph that automatically selects either analytical derivatives, when provided, or finite-difference approximate derivatives, by default, through its traversal.  Thus, instead of depending on low-level automatic differentiation libraries that often fail on important subroutines, this approach provides a highly efficient and flexible way to perform derivatives for any implemented function.  High order derivatives are even computable on multi-dimensional functions as the library supports tensors of any arbitrary dimension.  For instance, a function \( \mathit{f}: \mathbb{R}^{3 \times 5} \rightarrow {R}^{4 \times 4} \) implemented as an <code>OptimaTensorFunction</code> can automatically provide derivatives \( \frac{\partial f}{\partial \mathbf{X}} \in {R}^{4 \times 4 \times 3 \times 5} \), \( \frac{\partial^2 f}{\partial \mathbf{X}^2} \in {R}^{4 \times 4 \times 3 \times 5 \times 3 \times 5} \), etc.</p>
</li>
<li>
<p>Optima uses flexible transform and rotation implementations that make SE(3) computations a breeze.  For instance, any computations over transforms can use homogeneous matrices, implicit dual quaternions, a rotation matrix + vector, unit quaternion + vector, euler angles + vector, etc.  No matter what SE(3) representation is chosen, the library will automatically ensure that all conversions and computations are handled correctly under the hood.</p>
</li>
<li>
<p>In just a few lines of code, individual robot models can be combined to form a &quot;robot set&quot;, allowing for easy planning and optimization over several robots all at once.  For instance, a UR5 (6DOF) can be easily combined with two Rethink Sawyer (7DOF) robots to form a robot set with 20 total DOF.  In addition, any robot in the library (including those in a robot set) can be easily supplemented with a mobile base of numerous types (e.g., floating base, planar base, etc.).  The extra degrees of freedom accompanying these mobile base options are automatically added to the robot (or robot set) model.</p>
</li>
</ul>
<h2 id="sub-repositories"><a class="header" href="#sub-repositories">Sub-repositories</a></h2>
<p>The Optima Toolbox is comprised of four primary sub-repositories:</p>
<ol>
<li><a href="https://github.com/djrakita/optima"><code>optima</code></a>: This repository contains the core Rust code of the Optima Toolbox.  This code can be compiled to Rust, Python, and Web-assembly.</li>
<li><a href="https://github.com/djrakita/optima_assets/tree/main"><code>optima_assets</code></a>: This repository contains asset files that are pre-packaged with the toolbox.  For instance, these assets include pre-processed robot models (in the <a href="https://github.com/djrakita/optima_robots/tree/main"><code>optima_robots</code></a> repository), as well as 3D mesh files that can be used to build up scenes around robot models.</li>
<li><a href="https://github.com/djrakita/optima_js/tree/main"><code>optima_js</code></a>: This repository will contain utility code when using Optima in Javascript.  This folder is an empty place-holder right now; code will be added here over time.</li>
<li><a href="https://github.com/djrakita/optima_py/tree/main"><code>optima_py</code></a>: This repository will contain utility code when using Optima in Python.  This folder is an empty place-holder right now; code will be added here over time.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>In this Chapter, I will overview how to set up the Optima Toolbox.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="optima-toolbox-installation"><a class="header" href="#optima-toolbox-installation">Optima Toolbox Installation</a></h1>
<p>The Optima Toolbox code lives on <a href="https://github.com/djrakita/optima_toolbox">github</a>.  A standard way to install this code is to ensure that <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">git</a> is installed on your system, then <a href="https://www.w3schools.com/git/git_clone.asp?remote=github">clone</a> the code by running the following command in your terminal after navigating to a desired directory:</p>
<pre><code>git clone https://github.com/djrakita/optima_toolbox.git
</code></pre>
<p>The Optima Toolbox repository has several sub-repositories.  In order to pull all updates from the sub-repositories, navigate into the <code>optima_toolbox</code> directory:</p>
<pre><code>cd optima_toolbox
</code></pre>
<p>then run the following command in your terminal:</p>
<pre><code>git submodule update --init --recursive
</code></pre>
<p>And that's it!  The Optima Toolbox files are now on your computer.  In the following section, I will outline how to install the Rust toolchain in order to further set up the Optima Toolbox.   </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rust-installation"><a class="header" href="#rust-installation">Rust Installation</a></h1>
<p>We will next ensure that the <a href="https://www.rust-lang.org/">Rust programming language</a> toolchain is installed on your computer.  Rust is required in order to set up and compile all of the features offered by Optima, even if you are mostly interested in using Optima in Python, Webassembly, etc.</p>
<p>Fortunately, the Rust toolchain is very easy to install.  Simply follow the one-step installation guide <a href="https://www.rust-lang.org/learn/get-started">here</a>.  To verify that Rust has been successfully installed, run the following command:</p>
<pre><code class="language-shell">cargo --version
</code></pre>
<p>Also, to verify that the newly installed Rust compiler works with the Optima Toolbox, navigate to the <code>optima</code> sub-directory in the Optima Toolbox (assuming you are already in the <code>optima_toolbox</code> directory.):</p>
<pre><code class="language-shell">cd optima
</code></pre>
<p>Then run:</p>
<pre><code>cargo test
</code></pre>
<p>Numerous tests should run, all passing with a result of <code>ok</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="robot-test"><a class="header" href="#robot-test">Robot Test</a></h1>
<p>We will now further verify that the Optima Toolbox is properly setup with the Rust toolchain.</p>
<p>In the <code>optima_toolbox/optima</code> directory, run the following command:</p>
<pre><code class="language-shell">cargo run --bin print_robot_info ur5
</code></pre>
<p>If all is working, the console should contain configuration and diagnostics information for the given robot model (ur5 in this case):</p>
<pre><code class="language-s">  Link index:  0   Link name:  base_link   Present:  true 
  Link index:  1   Link name:  shoulder_link   Present:  true 
  Link index:  2   Link name:  upper_arm_link   Present:  true 
  Link index:  3   Link name:  forearm_link   Present:  true 
  Link index:  4   Link name:  wrist_1_link   Present:  true 
  Link index:  5   Link name:  wrist_2_link   Present:  true 
  Link index:  6   Link name:  wrist_3_link   Present:  true 
  Link index:  7   Link name:  ee_link   Present:  true 
  Link index:  8   Link name:  base   Present:  true 
  Link index:  9   Link name:  tool0   Present:  true 
  Link index:  10   Link name:  world   Present:  true 

&gt;&gt; Joint index:  0   Joint name:  shoulder_pan_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  1   Joint name:  shoulder_lift_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  2   Joint name:  elbow_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  3   Joint name:  wrist_1_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  4   Joint name:  wrist_2_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  5   Joint name:  wrist_3_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  6   Joint name:  ee_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  7   Joint name:  base_link-base_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  8   Joint name:  wrist_3_link-tool0_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  9   Joint name:  world_joint   Num dofs:  0   Present:  true 

DOF Joint Axis 0 ---&gt; JointAxis { joint_idx: 0, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 1 ---&gt; JointAxis { joint_idx: 1, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 2 ---&gt; JointAxis { joint_idx: 2, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 3 ---&gt; JointAxis { joint_idx: 3, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 4 ---&gt; JointAxis { joint_idx: 4, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 5 ---&gt; JointAxis { joint_idx: 5, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
</code></pre>
<p>Feel free to run the command above with different robot models as an argument.  Any robot in the <code>optima_toolbox/optima_assets/optima_robots</code> directory will work.  For instance, the following command:</p>
<pre><code class="language-shell">cargo run --bin print_robot_info yumi
</code></pre>
<p>will result in the following output:</p>
<pre><code class="language-s">  Link index:  0   Link name:  yumi_base_link   Present:  true 
  Link index:  1   Link name:  yumi_body   Present:  true 
  Link index:  2   Link name:  yumi_link_1_r   Present:  true 
  Link index:  3   Link name:  yumi_link_2_r   Present:  true 
  Link index:  4   Link name:  yumi_link_3_r   Present:  true 
  Link index:  5   Link name:  yumi_link_4_r   Present:  true 
  Link index:  6   Link name:  yumi_link_5_r   Present:  true 
  Link index:  7   Link name:  yumi_link_6_r   Present:  true 
  Link index:  8   Link name:  yumi_link_7_r   Present:  true 
  Link index:  9   Link name:  yumi_link_1_l   Present:  true 
  Link index:  10   Link name:  yumi_link_2_l   Present:  true 
  Link index:  11   Link name:  yumi_link_3_l   Present:  true 
  Link index:  12   Link name:  yumi_link_4_l   Present:  true 
  Link index:  13   Link name:  yumi_link_5_l   Present:  true 
  Link index:  14   Link name:  yumi_link_6_l   Present:  true 
  Link index:  15   Link name:  yumi_link_7_l   Present:  true 
  Link index:  16   Link name:  gripper_r_base   Present:  true 
  Link index:  17   Link name:  gripper_r_finger_r   Present:  true 
  Link index:  18   Link name:  gripper_r_finger_l   Present:  true 
  Link index:  19   Link name:  gripper_l_base   Present:  true 
  Link index:  20   Link name:  gripper_l_finger_r   Present:  true 
  Link index:  21   Link name:  gripper_l_finger_l   Present:  true 
  Link index:  22   Link name:  world   Present:  true 

&gt;&gt; Joint index:  0   Joint name:  yumi_base_link_to_body   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  1   Joint name:  yumi_joint_1_r   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  2   Joint name:  yumi_joint_2_r   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  3   Joint name:  yumi_joint_7_r   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  4   Joint name:  yumi_joint_3_r   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  5   Joint name:  yumi_joint_4_r   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  6   Joint name:  yumi_joint_5_r   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  7   Joint name:  yumi_joint_6_r   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  8   Joint name:  yumi_joint_1_l   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  9   Joint name:  yumi_joint_2_l   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  10   Joint name:  yumi_joint_7_l   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  11   Joint name:  yumi_joint_3_l   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  12   Joint name:  yumi_joint_4_l   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  13   Joint name:  yumi_joint_5_l   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  14   Joint name:  yumi_joint_6_l   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  15   Joint name:  yumi_link_7_r_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  16   Joint name:  gripper_r_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Translation about axis [[-1.0, 0.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  17   Joint name:  gripper_r_joint_m   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Translation about axis [[-1.0, 0.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  18   Joint name:  yumi_link_7_l_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  19   Joint name:  gripper_l_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Translation about axis [[-1.0, 0.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  20   Joint name:  gripper_l_joint_m   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Translation about axis [[-1.0, 0.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  21   Joint name:  world_joint   Num dofs:  0   Present:  true 

DOF Joint Axis 0 ---&gt; JointAxis { joint_idx: 1, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.94087978961, 2.94087978961) }
DOF Joint Axis 1 ---&gt; JointAxis { joint_idx: 2, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.50454747661, 0.759218224618) }
DOF Joint Axis 2 ---&gt; JointAxis { joint_idx: 3, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.94087978961, 2.94087978961) }
DOF Joint Axis 3 ---&gt; JointAxis { joint_idx: 4, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.15548162621, 1.3962634016) }
DOF Joint Axis 4 ---&gt; JointAxis { joint_idx: 5, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-5.06145483078, 5.06145483078) }
DOF Joint Axis 5 ---&gt; JointAxis { joint_idx: 6, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-1.53588974176, 2.40855436775) }
DOF Joint Axis 6 ---&gt; JointAxis { joint_idx: 7, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-3.99680398707, 3.99680398707) }
DOF Joint Axis 7 ---&gt; JointAxis { joint_idx: 8, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.94087978961, 2.94087978961) }
DOF Joint Axis 8 ---&gt; JointAxis { joint_idx: 9, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.50454747661, 0.759218224618) }
DOF Joint Axis 9 ---&gt; JointAxis { joint_idx: 10, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.94087978961, 2.94087978961) }
DOF Joint Axis 10 ---&gt; JointAxis { joint_idx: 11, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.15548162621, 1.3962634016) }
DOF Joint Axis 11 ---&gt; JointAxis { joint_idx: 12, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-5.06145483078, 5.06145483078) }
DOF Joint Axis 12 ---&gt; JointAxis { joint_idx: 13, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-1.53588974176, 2.40855436775) }
DOF Joint Axis 13 ---&gt; JointAxis { joint_idx: 14, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-3.99680398707, 3.99680398707) }
DOF Joint Axis 14 ---&gt; JointAxis { joint_idx: 16, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[-1.0, 0.0, 0.0]], axis: [[-1.0, 0.0, 0.0]], axis_primitive_type: Translation, bounds: (0.0, 0.025) }
DOF Joint Axis 15 ---&gt; JointAxis { joint_idx: 17, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[-1.0, 0.0, 0.0]], axis: [[-1.0, 0.0, 0.0]], axis_primitive_type: Translation, bounds: (0.0, 0.025) }
DOF Joint Axis 16 ---&gt; JointAxis { joint_idx: 19, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[-1.0, 0.0, 0.0]], axis: [[-1.0, 0.0, 0.0]], axis_primitive_type: Translation, bounds: (0.0, 0.025) }
DOF Joint Axis 17 ---&gt; JointAxis { joint_idx: 20, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[-1.0, 0.0, 0.0]], axis: [[-1.0, 0.0, 0.0]], axis_primitive_type: Translation, bounds: (0.0, 0.025) }
</code></pre>
<p>The outputs of these commands will make more sense as you move through the tutorials ahead, but for now, as long as the outputs in your console appear as they do here, the toolbox is correctly set up on your system!  </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adding-a-robot"><a class="header" href="#adding-a-robot">Adding a Robot</a></h1>
<p>The Optima Toolbox comes pre-packaged with models of several popular robots.  These models can be found in the <code>optima_toolbox/optima_assets/optima_robots</code> directory.  Each robot directory here (e.g., ur5, sawyer, etc.) contains all necessary information for using their respective robot models throughout the Optima Toolbox.</p>
<p>Guide on adding a robot is coming soon!  If you need a new robot added to the Optima Toolbox before this guide is made available, please email me at <a href="mailto:1-getting_started/daniel.rakita@yale.edu">daniel.rakita@yale.edu</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="optima-rust-tutorials"><a class="header" href="#optima-rust-tutorials">Optima Rust Tutorials</a></h1>
<p>In this Chapter, I will cover brief tutorial topics on how to use the core Optima library in Rust.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="loading-a-robot-model"><a class="header" href="#loading-a-robot-model">Loading a Robot Model</a></h1>
<p>In this tutorial, we will cover how to load a robot model into Optima.  The code for this example is as follows:</p>
<pre><pre class="playground"><code class="language-rust editable runnable">extern crate optima;

use optima::robot_modules::robot::Robot;
use optima::utils::utils_robot::robot_module_utils::RobotNames;

fn main () {
    // load the given robot
    let robot = Robot::new_from_names(RobotNames::new(&quot;ur5&quot;, None));

    // prints a summary of the robot configuration
    robot.robot_configuration_module().print_summary();

    // prints a summary of the robot's degrees of freedom
    robot.robot_joint_state_module().print_dof_summary();
}
</code></pre></pre>
<p>Let's take a look through the code.  The important part of this code is line 8 where the ur5 robot model is loaded.  The easiest way to load a robot is using the <code>new_from_names</code> function.  This function takes a <code>RobotNames</code> parameter, which has two parameters of its own.  The first parameter here is the name of the robot (<code>&quot;ur5&quot;</code> in this case).  This string literal parameter could be any robot in the directory <code>optima_toolbox/optima_assets/optima_robots</code>.  The second parameter is a Rust <a href="https://doc.rust-lang.org/std/option/">Option</a> that can, as the name implies, serve as an optional string parameter specifying the name of a robot configuration.  Robot configurations will be covered in a following section, so in this case, the configuration is specifies as <code>None</code>, meaning the loaded robot model will simply be its base configuration.</p>
<p>A <code>Robot</code> in Optima is a large struct that aggregates smaller structs that contain specialized code to perform particular tasks, referred to as <em>modules</em>.  For instance, a <code>Robot</code> contains a <code>RobotConfigurationModule</code>, a <code>RobotJointStateModule</code>, a <code>RobotKinematicsModule</code>, and so on.  For details on each module, refer to the Optima API documentation.  Lines 11 and 14 here print a summary of the configuration module and joint state module, respectively, to the console. </p>
<p>The code for this tutorial can be found in the file <code>optima_toolbox/optima/examples/0_load_robot.rs</code> and can be run from the <code>optima_toolbox/optima</code> directory using the following command:</p>
<pre><code class="language-shell">cargo run --example 0_robots
</code></pre>
<p>The output of this example should be the following:</p>
<pre><code class="language-s">  Link index:  0   Link name:  base_link   Present:  true 
  Link index:  1   Link name:  shoulder_link   Present:  true 
  Link index:  2   Link name:  upper_arm_link   Present:  true 
  Link index:  3   Link name:  forearm_link   Present:  true 
  Link index:  4   Link name:  wrist_1_link   Present:  true 
  Link index:  5   Link name:  wrist_2_link   Present:  true 
  Link index:  6   Link name:  wrist_3_link   Present:  true 
  Link index:  7   Link name:  ee_link   Present:  true 
  Link index:  8   Link name:  base   Present:  true 
  Link index:  9   Link name:  tool0   Present:  true 
  Link index:  10   Link name:  world   Present:  true 

&gt;&gt; Joint index:  0   Joint name:  shoulder_pan_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  1   Joint name:  shoulder_lift_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  2   Joint name:  elbow_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  3   Joint name:  wrist_1_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  4   Joint name:  wrist_2_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  5   Joint name:  wrist_3_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  6   Joint name:  ee_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  7   Joint name:  base_link-base_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  8   Joint name:  wrist_3_link-tool0_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  9   Joint name:  world_joint   Num dofs:  0   Present:  true 

DOF Joint Axis 0 ---&gt; JointAxis { joint_idx: 0, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 1 ---&gt; JointAxis { joint_idx: 1, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 2 ---&gt; JointAxis { joint_idx: 2, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 3 ---&gt; JointAxis { joint_idx: 3, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 4 ---&gt; JointAxis { joint_idx: 4, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 5 ---&gt; JointAxis { joint_idx: 5, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="robot-configurations"><a class="header" href="#robot-configurations">Robot Configurations</a></h1>
<p>In this tutorial, we will cover how to create a new robot configuration, how to use this robot configuration module to instantiate a robot, and how to save this configuration for later use.</p>
<p>A <code>RobotConfigurationModule</code> affords extra specificity and functionality over a robot model.  For example, a robot configuration can include a mobile base, a base offset, removed links, as well as fixed joint values that will not be considered degrees of freedom.  Let's examine some code that creates, modifies, saves, and loads a robot configuration:</p>
<pre><pre class="playground"><code class="language-rust editable">extern crate optima;

use optima::robot_modules::robot::Robot;
use optima::robot_modules::robot_configuration_module::{ContiguousChainMobilityMode, RobotConfigurationModule};
use optima::utils::utils_robot::robot_module_utils::RobotNames;

fn main() {
    // Initialize a new robot configuration for the ur5 robot.
    let mut robot_configuration = RobotConfigurationModule::new_from_names(RobotNames::new_base(&quot;ur5&quot;)).expect(&quot;error&quot;);

    // Sets the 0 joint idx (should_pan_joint, in the case of the ur5 robot) with joint_sub_idx 0 (the
    // default sub-idx for joints with only 1 degree of freedom) to a fixed value of 1.2.  From here on
    // out, this joint will no longer be considered a degree of freedom and, instead,
    // will remain locked at 1.2.
    robot_configuration.set_fixed_joint(0, 0, 1.2);

    // Sets link with idx 5 (wrist_2_link, in the case of the ur5 robot) as a &quot;dead end link&quot;.  A
    // dead-end link means that this link, as well as all predecessor links in the kinematic chain,
    // will be removed from the model.  Note that this will also remove all joints that connect
    // these removed links, thus possibly reducing the number of degrees of freedom of the model.
    // Links and joints that are removed in this way are said to be not &quot;present&quot; in the model.
    robot_configuration.set_dead_end_link(5);

    // Sets the base of the robot to be mobile.  In this case, the base is floating (not
    // realistic for the ur5 robot, but is very useful, for example, for the hips
    // of humanoid robots).  This base will automatically add 6 degrees of freedom
    // to the model, 3 for translation (x, y, z) and 3 for rotation (rx, ry, rz).
    // All lower and upper bounds are set for each of these degrees of freedom.
    // All mobility modes are PlanarTranslation (x and y translation), PlanarRotation (rz rotation),
    // PlanarTranslationAndRotation (x and y translation + z rotation),
    // Static (i.e., 0 DOFs), and Floating (x, y, z translation + rx, ry, rz rotation).
    robot_configuration.set_mobile_base(ContiguousChainMobilityMode::Floating {
        x_bounds: (-2.0, 2.0),
        y_bounds: (-2.0, 2.0),
        z_bounds: (-2.0, 2.0),
        xr_bounds: (-3.14, 3.14),
        yr_bounds: (-3.14, 3.14),
        zr_bounds: (-3.14, 3.14)
    });

    // Saves the robot configuration for later use.  This will add a file to
    // `optima_toolbox/optima_assets/optima_robots/ur5/configurations/test_configuration.JSON`.
    // NOTE: if you run this example multiple times and the test_configuration file is already
    // present, a prompt will show up in the console asking if you would like to save over
    // the already saved file.
    robot_configuration.save(&quot;test_configuration&quot;);

    // For illustrative purposes, let's now load in our robot configuration from the file that
    // was just saved.  The second parameter in the `RobotNames` struct is now an option of
    // `Some` with the name of our recently saved configuration.
    let loaded_robot_configuration = RobotConfigurationModule::new_from_names(RobotNames::new(&quot;ur5&quot;, Some(&quot;test_configuration&quot;))).expect(&quot;error&quot;);

    // This configuration can now be used to instantiate a `Robot`.
    let robot = Robot::new_from_robot_configuration_module(loaded_robot_configuration);

    // when we print information about the robot, we see that the information that we
    // inputted above is reflected in the printed output.
    robot.robot_configuration_module().print_summary();
    robot.robot_joint_state_module().print_dof_summary();
}
</code></pre></pre>
<p>Explanations for the code above are written as comments line by line.</p>
<p>The code for this tutorial can be found in the file <code>optima_toolbox/optima/examples/1_robot_configurations.rs</code> and can be run from the <code>optima_toolbox/optima</code> directory using the following command:</p>
<pre><code class="language-shell">cargo run --example 1_robot_configurations
</code></pre>
<p>Note that, if this example is run, a file called <code>test_configuration.JSON</code> will be saved in <code>optima_toolbox/optima_assets/optima_robots/ur5/configurations</code>.  Because this configuration is only for educational purposes and is mostly nonsensical, I recommend deleting this file before moving on.</p>
<p>The output of this example should be the following:</p>
<pre><code class="language-s">  Link index:  0   Link name:  base_link   Present:  true 
  Link index:  1   Link name:  shoulder_link   Present:  true 
  Link index:  2   Link name:  upper_arm_link   Present:  true 
  Link index:  3   Link name:  forearm_link   Present:  true 
  Link index:  4   Link name:  wrist_1_link   Present:  true 
  Link index:  5   Link name:  wrist_2_link   Present:  false 
  Link index:  6   Link name:  wrist_3_link   Present:  false 
  Link index:  7   Link name:  ee_link   Present:  false 
  Link index:  8   Link name:  base   Present:  true 
  Link index:  9   Link name:  tool0   Present:  false 
  Link index:  10   Link name:  world   Present:  true 
  Link index:  11   Link name:  base_of_chain_link_with_child_link_10   Present:  true 

&gt;&gt; Joint index:  0   Joint name:  shoulder_pan_joint   Num dofs:  0   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Fixed at value 1.2
&gt;&gt; Joint index:  1   Joint name:  shoulder_lift_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  2   Joint name:  elbow_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  3   Joint name:  wrist_1_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  4   Joint name:  wrist_2_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  5   Joint name:  wrist_3_joint   Num dofs:  1   Present:  false 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  6   Joint name:  ee_fixed_joint   Num dofs:  0   Present:  false 
&gt;&gt; Joint index:  7   Joint name:  base_link-base_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  8   Joint name:  wrist_3_link-tool0_fixed_joint   Num dofs:  0   Present:  false 
&gt;&gt; Joint index:  9   Joint name:  world_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  10   Joint name:  base_of_chain_connector_joint_with_child_link_11   Num dofs:  6   Present:  true 
      -- Joint sub idx 0:  Translation about axis [[1.0, 0.0, 0.0]], Not fixed.
      -- Joint sub idx 1:  Translation about axis [[0.0, 1.0, 0.0]], Not fixed.
      -- Joint sub idx 2:  Translation about axis [[0.0, 0.0, 1.0]], Not fixed.
      -- Joint sub idx 3:  Rotation about axis [[1.0, 0.0, 0.0]], Not fixed.
      -- Joint sub idx 4:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
      -- Joint sub idx 5:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.

DOF Joint Axis 0 ---&gt; JointAxis { joint_idx: 1, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 1 ---&gt; JointAxis { joint_idx: 2, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 2 ---&gt; JointAxis { joint_idx: 3, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 3 ---&gt; JointAxis { joint_idx: 4, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
DOF Joint Axis 4 ---&gt; JointAxis { joint_idx: 10, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[1.0, 0.0, 0.0]], axis: [[1.0, 0.0, 0.0]], axis_primitive_type: Translation, bounds: (-2.0, 2.0) }
DOF Joint Axis 5 ---&gt; JointAxis { joint_idx: 10, joint_sub_dof_idx: 1, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Translation, bounds: (-2.0, 2.0) }
DOF Joint Axis 6 ---&gt; JointAxis { joint_idx: 10, joint_sub_dof_idx: 2, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Translation, bounds: (-2.0, 2.0) }
DOF Joint Axis 7 ---&gt; JointAxis { joint_idx: 10, joint_sub_dof_idx: 3, fixed_value: None, axis_as_unit: [[1.0, 0.0, 0.0]], axis: [[1.0, 0.0, 0.0]], axis_primitive_type: Rotation, bounds: (-3.14, 3.14) }
DOF Joint Axis 8 ---&gt; JointAxis { joint_idx: 10, joint_sub_dof_idx: 4, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-3.14, 3.14) }
DOF Joint Axis 9 ---&gt; JointAxis { joint_idx: 10, joint_sub_dof_idx: 5, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-3.14, 3.14) }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="robot-sets"><a class="header" href="#robot-sets">Robot Sets</a></h1>
<p>Thus far, the previous tutorials have been building up an understanding of the <code>Robot</code> struct and its underlying modules in Optima.  This struct only contains a model and configuration for a single robot (ur5, yumi, sawyer, etc.).  However, what if we want to handle cases where our model may contain <em>multiple robots</em>.</p>
<p>Optima handles this case by providing the <code>RobotSet</code> struct.  A <code>RobotSet</code> can be thought of as a superset abstraction of the <code>Robot</code> struct.  A <code>RobotSet</code> initialized with a single robot is indistiguishable from a <code>Robot</code>; however, it can also incorporate more robots into a single model when needed.</p>
<p><strong>IMPORTANT: Because the <code>RobotSet</code> struct is a superset of <code>Robot</code>, almost all downstream applications and algorithms in Optima will depend on a <code>RobotSet</code> instead of a <code>Robot</code>.  Thus, it is highly recommended to always use a <code>RobotSet</code> in code, even when only one robot is present in the model, in order to maximimze compatibility throughout the library.</strong></p>
<p>Code that loads a <code>RobotSet</code> can be seen here:</p>
<pre><pre class="playground"><code class="language-rust editable">extern crate optima;

use optima::robot_set_modules::robot_set::RobotSet;
use optima::utils::utils_robot::robot_module_utils::RobotNames;

fn main() {
    // Loads a robot set with two robots (a ur5 and sawyer).
    let robot_set = RobotSet::new_from_robot_names(vec![RobotNames::new(&quot;ur5&quot;, None), RobotNames::new(&quot;sawyer&quot;, None)]);

    // prints a summary of the robot set configuration
    robot_set.robot_set_configuration_module().print_summary();

    // prints a summary of the robot set's degrees of freedom.
    robot_set.robot_set_joint_state_module().print_dof_summary();
}
</code></pre></pre>
<p>The robot set loaded in line 8 has two robots, a ur5 and a sawyer.  Both of these robots are their &quot;base&quot; configurations (i.e., the second parameter in both <code>RobotNames</code> structs are <code>None</code>).  However, either of these could have been named configurations previously saved for either robot.</p>
<p>The code for this tutorial can be found in the file <code>optima_toolbox/optima/examples/0_load_robot.rs</code> and can be run from the <code>optima_toolbox/optima</code> directory using the following command:</p>
<pre><code class="language-shell">cargo run --example 2_robot_sets
</code></pre>
<p>The output of this example should be the following:</p>
<pre><code class="language-s">Robot 0 ---&gt; 
  Link index:  0   Link name:  base_link   Present:  true 
  Link index:  1   Link name:  shoulder_link   Present:  true 
  Link index:  2   Link name:  upper_arm_link   Present:  true 
  Link index:  3   Link name:  forearm_link   Present:  true 
  Link index:  4   Link name:  wrist_1_link   Present:  true 
  Link index:  5   Link name:  wrist_2_link   Present:  true 
  Link index:  6   Link name:  wrist_3_link   Present:  true 
  Link index:  7   Link name:  ee_link   Present:  true 
  Link index:  8   Link name:  base   Present:  true 
  Link index:  9   Link name:  tool0   Present:  true 
  Link index:  10   Link name:  world   Present:  true 

&gt;&gt; Joint index:  0   Joint name:  shoulder_pan_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  1   Joint name:  shoulder_lift_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  2   Joint name:  elbow_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  3   Joint name:  wrist_1_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  4   Joint name:  wrist_2_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  5   Joint name:  wrist_3_joint   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 1.0, 0.0]], Not fixed.
&gt;&gt; Joint index:  6   Joint name:  ee_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  7   Joint name:  base_link-base_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  8   Joint name:  wrist_3_link-tool0_fixed_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  9   Joint name:  world_joint   Num dofs:  0   Present:  true 


Robot 1 ---&gt; 
  Link index:  0   Link name:  base   Present:  true 
  Link index:  1   Link name:  torso   Present:  true 
  Link index:  2   Link name:  pedestal   Present:  true 
  Link index:  3   Link name:  controller_box   Present:  true 
  Link index:  4   Link name:  pedestal_feet   Present:  true 
  Link index:  5   Link name:  right_arm_base_link   Present:  true 
  Link index:  6   Link name:  right_l0   Present:  true 
  Link index:  7   Link name:  head   Present:  true 
  Link index:  8   Link name:  right_torso_itb   Present:  true 
  Link index:  9   Link name:  right_l1   Present:  true 
  Link index:  10   Link name:  right_l2   Present:  true 
  Link index:  11   Link name:  right_l3   Present:  true 
  Link index:  12   Link name:  right_l4   Present:  true 
  Link index:  13   Link name:  right_arm_itb   Present:  true 
  Link index:  14   Link name:  right_l5   Present:  true 
  Link index:  15   Link name:  right_hand_camera   Present:  true 
  Link index:  16   Link name:  right_wrist   Present:  true 
  Link index:  17   Link name:  right_l6   Present:  true 
  Link index:  18   Link name:  right_hand   Present:  true 
  Link index:  19   Link name:  right_l1_2   Present:  true 
  Link index:  20   Link name:  right_l2_2   Present:  true 
  Link index:  21   Link name:  right_l4_2   Present:  true 
  Link index:  22   Link name:  screen   Present:  true 
  Link index:  23   Link name:  head_camera   Present:  true 

&gt;&gt; Joint index:  0   Joint name:  controller_box_fixed   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  1   Joint name:  pedestal_feet_fixed   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  2   Joint name:  pedestal_fixed   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  3   Joint name:  right_arm_mount   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  4   Joint name:  torso_t0   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  5   Joint name:  right_j0   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  6   Joint name:  head_pan   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  7   Joint name:  right_torso_itb   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  8   Joint name:  right_j1   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  9   Joint name:  right_j2   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  10   Joint name:  right_j3   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  11   Joint name:  right_j4   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  12   Joint name:  right_arm_itb   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  13   Joint name:  right_j5   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  14   Joint name:  right_hand_camera   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  15   Joint name:  right_wrist   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  16   Joint name:  right_j6   Num dofs:  1   Present:  true 
      -- Joint sub idx 0:  Rotation about axis [[0.0, 0.0, 1.0]], Not fixed.
&gt;&gt; Joint index:  17   Joint name:  right_hand   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  18   Joint name:  right_j1_2   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  19   Joint name:  right_j2_2   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  20   Joint name:  right_j4_2   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  21   Joint name:  display_joint   Num dofs:  0   Present:  true 
&gt;&gt; Joint index:  22   Joint name:  head_camera   Num dofs:  0   Present:  true 


Robot 0, DOF Joint Axis 0 ---&gt; JointAxis { joint_idx: 0, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
Robot 0, DOF Joint Axis 1 ---&gt; JointAxis { joint_idx: 1, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
Robot 0, DOF Joint Axis 2 ---&gt; JointAxis { joint_idx: 2, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
Robot 0, DOF Joint Axis 3 ---&gt; JointAxis { joint_idx: 3, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
Robot 0, DOF Joint Axis 4 ---&gt; JointAxis { joint_idx: 4, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
Robot 0, DOF Joint Axis 5 ---&gt; JointAxis { joint_idx: 5, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 1.0, 0.0]], axis: [[0.0, 1.0, 0.0]], axis_primitive_type: Rotation, bounds: (-6.2831853, 6.2831853) }
------------------------------------------------------------------------
Robot 1, DOF Joint Axis 6 ---&gt; JointAxis { joint_idx: 5, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-3.0503, 3.0503) }
Robot 1, DOF Joint Axis 7 ---&gt; JointAxis { joint_idx: 6, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-5.0952, 0.9064) }
Robot 1, DOF Joint Axis 8 ---&gt; JointAxis { joint_idx: 8, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-3.8095, 2.2736) }
Robot 1, DOF Joint Axis 9 ---&gt; JointAxis { joint_idx: 9, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-3.0426, 3.0426) }
Robot 1, DOF Joint Axis 10 ---&gt; JointAxis { joint_idx: 10, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-3.0439, 3.0439) }
Robot 1, DOF Joint Axis 11 ---&gt; JointAxis { joint_idx: 11, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.9761, 2.9761) }
Robot 1, DOF Joint Axis 12 ---&gt; JointAxis { joint_idx: 13, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-2.9761, 2.9761) }
Robot 1, DOF Joint Axis 13 ---&gt; JointAxis { joint_idx: 16, joint_sub_dof_idx: 0, fixed_value: None, axis_as_unit: [[0.0, 0.0, 1.0]], axis: [[0.0, 0.0, 1.0]], axis_primitive_type: Rotation, bounds: (-4.7124, 4.7124) }
------------------------------------------------------------------------
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="robot-set-configurations"><a class="header" href="#robot-set-configurations">Robot Set Configurations</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>



        <script type="text/javascript">
            window.playground_line_numbers = true;
        </script>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>

        <script src="ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </body>
</html>
